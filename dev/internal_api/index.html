<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internal · RPH</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>RPH</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../quickstart/">Tutorial</a></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../public_api/">Public</a></li><li class="current"><a class="toctext" href>Internal</a><ul class="internal"><li><a class="toctext" href="#Scenario-tree-1">Scenario tree</a></li><li><a class="toctext" href="#Progressive-hedging-1">Progressive hedging</a></li><li><a class="toctext" href="#Synchronous-1">Synchronous</a></li><li><a class="toctext" href="#Synchronous-parallel-1">Synchronous parallel</a></li><li><a class="toctext" href="#Asynchronous-1">Asynchronous</a></li><li><a class="toctext" href="#Projections-1">Projections</a></li><li><a class="toctext" href="#Others-1">Others</a></li></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li><a href>Internal</a></li></ul><a class="edit-page" href="https://github.com/yassine-laguel/RPH.jl/blob/master/docs/src/internal_api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Internal</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Internal-reference-1" href="#Internal-reference-1">Internal reference</a></h1><h2><a class="nav-anchor" id="Scenario-tree-1" href="#Scenario-tree-1">Scenario tree</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.STreeNode" href="#RPH.STreeNode"><code>RPH.STreeNode</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">STreeNode</code></pre><p>Node object of the <code>ScenarioTree</code>. Reference its <code>father</code> node id and its <code>childs</code> ids,  along with the set of scenarios equivalent up to the <code>depth</code> (or stage) of the node.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/RPH.jl#L77-L82">source</a></section><h2><a class="nav-anchor" id="Progressive-hedging-1" href="#Progressive-hedging-1">Progressive hedging</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.ph_subproblem_solve" href="#RPH.ph_subproblem_solve"><code>RPH.ph_subproblem_solve</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">ph_subproblem_solve(pb, id_scen, u_scen, x_scen, μ, params)</code></pre><p>Solve subproblem associated with scenario <code>id_scen</code>, primal point <code>x_scen</code>, dual point <code>u_scen</code> and regularization <code>μ</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_progressiveheding.jl#L1-L6">source</a></section><h2><a class="nav-anchor" id="Synchronous-1" href="#Synchronous-1">Synchronous</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randsync_subproblem_solve" href="#RPH.randsync_subproblem_solve"><code>RPH.randsync_subproblem_solve</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randsync_subproblem_solve(pb::Problem, id_scen::ScenarioId, xz_scen, μ, params)</code></pre><p>Solve and return the solution of the subproblem &#39;prox<em>(f</em>s/<code>μ</code>) (<code>xz_scen</code>)&#39; where &#39;f<em>s&#39; is the cost function associated with the scenario `id</em>scen`.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_sync.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randsync_initialization!" href="#RPH.randsync_initialization!"><code>RPH.randsync_initialization!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randsync_initialization!(z, pb, μ, subpbparams, printlev, it)</code></pre><p>Compute a first global feasible point by solving each scenario independently and projecting  the global strategy obtained onto the non-anticipatory subspace.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_sync.jl#L28-L33">source</a></section><h2><a class="nav-anchor" id="Synchronous-parallel-1" href="#Synchronous-parallel-1">Synchronous parallel</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randpar_remote_func" href="#RPH.randpar_remote_func"><code>RPH.randpar_remote_func</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randpar_remote_func(inwork::RemoteChannel, outres::RemoteChannel)</code></pre><p>Solve and return the solution of the subproblem &#39;prox<em>(f</em>s/<code>μ</code>) (<code>v_scen</code>)&#39; where &#39;f<em>s&#39; is the cost function associated with the scenario `id</em>scen`.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_par.jl#L8-L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randpar_initialization!" href="#RPH.randpar_initialization!"><code>RPH.randpar_initialization!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randpar_initialization!(z, pb, μ, subpbparams, printlev, it, work_channel, results_channel)</code></pre><p>Compute a first global feasible point by solving each scenario independently and projecting  the global strategy obtained onto the non-anticipatory subspace. Independent solves are distributed on available workers.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_par.jl#L102-L108">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randpar_init_workers" href="#RPH.randpar_init_workers"><code>RPH.randpar_init_workers</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randpar_init_workers(pb::Problem{T}, subpbparams::AbstractDict) where T&lt;:AbstractScenario</code></pre><p>Launch <code>randpar_remote_func</code> in every available worker with correct channels, and pass <code>subpbparams</code> to each worker.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_par.jl#L51-L55">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randpar_terminate_workers" href="#RPH.randpar_terminate_workers"><code>RPH.randpar_terminate_workers</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randpar_terminate_workers(pb, work_channel, remotecalls_futures)</code></pre><p>Send a signal so that all workers return and wait that all workers do.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_par.jl#L80-L84">source</a></section><h2><a class="nav-anchor" id="Asynchronous-1" href="#Asynchronous-1">Asynchronous</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randasync_remote_func" href="#RPH.randasync_remote_func"><code>RPH.randasync_remote_func</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randasync_remote_func(inwork::RemoteChannel, outres::RemoteChannel, paramschan::RemoteChannel)</code></pre><p>Solve and return the solution of the subproblem &#39;prox<em>(f</em>s/<code>μ</code>) (<code>v_scen</code>)&#39; where &#39;f<em>s&#39; is the cost function associated with the scenario `id</em>scen`.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_async.jl#L8-L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randasync_initialization!" href="#RPH.randasync_initialization!"><code>RPH.randasync_initialization!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randasync_initialization!(z, pb, μ, subpbparams, printlev, it, work_channel, results_channel)</code></pre><p>Compute a first global feasible point by solving each scenario independently and projecting  the global strategy obtained onto the non-anticipatory subspace. Independent solves are distributed on available workers.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_async.jl#L102-L108">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randasync_init_workers" href="#RPH.randasync_init_workers"><code>RPH.randasync_init_workers</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randasync_init_workers(pb::Problem{T}, subpbparams::AbstractDict) where T&lt;:AbstractScenario</code></pre><p>Launch <code>asyncpar_remote_func</code> in every available worker with correct channels, and pass <code>subpbparams</code> to each worker.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_async.jl#L51-L55">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.randasync_terminate_workers" href="#RPH.randasync_terminate_workers"><code>RPH.randasync_terminate_workers</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">randasync_terminate_workers(pb, work_channel, remotecalls_futures)</code></pre><p>Send a signal so that all workers return and wait that all workers do.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/solve_randomized_async.jl#L80-L84">source</a></section><h2><a class="nav-anchor" id="Projections-1" href="#Projections-1">Projections</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.get_averagedtraj" href="#RPH.get_averagedtraj"><code>RPH.get_averagedtraj</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">averaged_traj = get_averagedtraj(pb::Problem, z::Matrix{Float64}, id_scen::ScenarioId)</code></pre><p>Compute and return the averaged trajectory defined by scenario <code>id_scen</code> over strategy <code>z</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/projections.jl#L96-L100">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.get_averagedtraj!" href="#RPH.get_averagedtraj!"><code>RPH.get_averagedtraj!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_averagedtraj!(averaged_traj::Vector{Float64}, pb::Problem, z::Matrix, id_scen::ScenarioId)</code></pre><p>Compute inplace in <code>averaged_traj</code> the averaged trajectory defined by scenario <code>id_scen</code> over strategy <code>z</code>. Note: this function has been fairly optimized. Apply changes with caution.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/projections.jl#L44-L49">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.nonanticipatory_projection" href="#RPH.nonanticipatory_projection"><code>RPH.nonanticipatory_projection</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">x = nonanticipatory_projection(pb::Problem, y::Matrix{Float64})</code></pre><p>Compute the projection <code>x</code> of <code>y</code> on the non-anticipatory subspace associated to problem <code>pb</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/projections.jl#L32-L36">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.nonanticipatory_projection!" href="#RPH.nonanticipatory_projection!"><code>RPH.nonanticipatory_projection!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">nonanticipatory_projection!(x::Matrix{Float64}, pb::Problem, y::Matrix{Float64})</code></pre><p>Store in <code>x</code> the projection of <code>y</code> on the non-anticipatory subspace associated to problem <code>pb</code>. Note: this function has been fairly optimized. Apply changes with caution.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/projections.jl#L1-L6">source</a></section><h2><a class="nav-anchor" id="Others-1" href="#Others-1">Others</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.get_neighbydepth" href="#RPH.get_neighbydepth"><code>RPH.get_neighbydepth</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_neighbydepth(tree::STreeNode, scenid::ScenarioId)</code></pre><p>Compute the leaves neighbooring <code>scenid</code> per level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/ScenarioTree.jl#L15-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="RPH.get_scenariodim" href="#RPH.get_scenariodim"><code>RPH.get_scenariodim</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_scenariodim(pb::Problem)</code></pre><p>Return the dimension of the vector representing a scenario.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/RPH.jl#L137-L141">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="LinearAlgebra.dot" href="#LinearAlgebra.dot"><code>LinearAlgebra.dot</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dot(pb::Problem, x::Matrix{Float64}, y::Matrix{Float64})</code></pre><p>Compute the weighted scalar product between strategies <code>x</code> and <code>y</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/yassine-laguel/RPH.jl/blob/76d307bd1f5f2d4434ae5a8b452a497cb5da1139/src/Problem.jl#L78-L82">source</a></section><footer><hr/><a class="previous" href="../public_api/"><span class="direction">Previous</span><span class="title">Public</span></a></footer></article></body></html>
